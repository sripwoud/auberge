---
- name: Setup Vibecoder VPS
  hosts: all
  remote_user: debian
  become: true
  vars:
    ansible_user: debian

  roles:
    - vibecoder

  post_tasks:
    - name: Display setup summary
      ansible.builtin.debug:
        msg:
          - "==================================="
          - "Vibecoder Setup Complete!"
          - "==================================="
          - "User: {{ user_name }}"
          - "SSH Port: {{ ssh_port }}"
          - "Tailscale: {{ 'Configured' if tailscale_authkey else 'Manual setup required' }}"
          - "Telegram: {{ 'Enabled' if enable_claude_remote_telegram == 'yes' else 'Disabled' }}"
          - ""
          - "Next steps:"
          - "1. SSH to your server: ssh {{ user_name }}@YOUR_IP -p {{ ssh_port }}"
          - "2. If Tailscale not configured: tailscale up --authkey=YOUR_KEY"
          - "3. Start Claude: tmux new -s claude && claude"
